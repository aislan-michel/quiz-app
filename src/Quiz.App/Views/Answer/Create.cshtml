@model Quiz.App.InputModels.CreateAnswerInputModel

@{
    ViewData["title"] = "Create";
    Layout = "_Layout";
}

<div class="mb-3">
    <label class="form-label">Question</label>
    <textarea class="form-control" name="text" disabled id="question-text"></textarea>
</div>

<form method="post" asp-action="Create">

    @for (var i = 0; i <= 3; i++)
    {
        <div class="mb-3">
            <div class="mb-3">
                <label class="form-label">Answer @Html.Raw(i + 1)</label>
                <textarea class="form-control" name="answers[@i]"></textarea>
            </div>
        </div> 
    }

    <div class="mb-3">
        <label class="form-label">Correct answer</label>
        <input type="number" max="4" class="form-control" name="correct">
    </div>
    
    <input hidden value="@Model.QuestionId" name="questionId">

    <button type="submit" class="btn btn-primary">Submit</button>
    
</form>

@section Scripts
{
    <script>
        $(document).ready(() => {
            const questionId = '@Model.QuestionId';
            
            $.get(`/question/getText?id=${questionId}`, (data) => {
                console.log(data.text);
                $("#question-text").text(data.text);
            });
        });
    </script>
}
